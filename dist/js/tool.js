/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var t,e={253:(t,e,r)=>{const n=Vue;var o={class:"p-4"},a={class:"mb-4"},i={id:"register-form"},s={class:"flex items-center gap-1"};function c(t){const e=new Uint8Array(t);let r="";for(const t of e)r+=String.fromCharCode(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function u(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4,n=e.padEnd(e.length+r,"="),o=atob(n),a=new ArrayBuffer(o.length),i=new Uint8Array(a);for(let t=0;t<o.length;t++)i[t]=o.charCodeAt(t);return a}function l(){return void 0!==window?.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential}function p(t){const{id:e}=t;return{...t,id:u(e),transports:t.transports}}function f(t){return"localhost"===t||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}class d extends Error{constructor({message:t,code:e,cause:r,name:n}){super(t,{cause:r}),this.name=n??r.name,this.code=e}}const h=new class{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},y=["cross-platform","platform"];function m(t){if(t&&!(y.indexOf(t)<0))return t}async function w(t){if(!l())throw new Error("WebAuthn is not supported in this browser");const e={publicKey:{...t,challenge:u(t.challenge),user:{...t.user,id:u(t.user.id)},excludeCredentials:t.excludeCredentials?.map(p)}};let r;e.signal=h.createNewAbortSignal();try{r=await navigator.credentials.create(e)}catch(t){throw function({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(e.signal instanceof AbortSignal)return new d({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===r.authenticatorSelection?.requireResidentKey)return new d({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("required"===r.authenticatorSelection?.userVerification)return new d({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new d({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new d({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name)return 0===r.pubKeyCredParams.filter((t=>"public-key"===t.type)).length?new d({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new d({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!f(e))return new d({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rp.id!==e)return new d({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new d({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new d({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}({error:t,options:e})}if(!r)throw new Error("Registration was not completed");const{id:n,rawId:o,response:a,type:i}=r;let s,y,w,b;if("function"==typeof a.getTransports&&(s=a.getTransports()),"function"==typeof a.getPublicKeyAlgorithm)try{y=a.getPublicKeyAlgorithm()}catch(t){g("getPublicKeyAlgorithm()",t)}if("function"==typeof a.getPublicKey)try{const t=a.getPublicKey();null!==t&&(w=c(t))}catch(t){g("getPublicKey()",t)}if("function"==typeof a.getAuthenticatorData)try{b=c(a.getAuthenticatorData())}catch(t){g("getAuthenticatorData()",t)}return{id:n,rawId:c(o),response:{attestationObject:c(a.attestationObject),clientDataJSON:c(a.clientDataJSON),transports:s,publicKeyAlgorithm:y,publicKey:w,authenticatorData:b},type:i,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:m(r.authenticatorAttachment)}}function g(t,e){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${t}. You should report this error to them.\n`,e)}function b(){if(!l())return new Promise((t=>t(!1)));const t=window.PublicKeyCredential;return void 0===t.isConditionalMediationAvailable?new Promise((t=>t(!1))):t.isConditionalMediationAvailable()}async function v(t,e=!1){if(!l())throw new Error("WebAuthn is not supported in this browser");let r;0!==t.allowCredentials?.length&&(r=t.allowCredentials?.map(p));const n={...t,challenge:u(t.challenge),allowCredentials:r},o={};if(e){if(!await b())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');o.mediation="conditional",n.allowCredentials=[]}let a;o.publicKey=n,o.signal=h.createNewAbortSignal();try{a=await navigator.credentials.get(o)}catch(t){throw function({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(e.signal instanceof AbortSignal)return new d({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new d({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!f(e))return new d({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new d({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new d({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}({error:t,options:o})}if(!a)throw new Error("Authentication was not completed");const{id:i,rawId:s,response:y,type:w}=a;let g;return y.userHandle&&(g=c(y.userHandle)),{id:i,rawId:c(s),response:{authenticatorData:c(y.authenticatorData),clientDataJSON:c(y.clientDataJSON),signature:c(y.signature),userHandle:g},type:w,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:m(a.authenticatorAttachment)}}function E(){return l()}async function R(){return E()&&await b()}async function A(){return E()&&await(l()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():new Promise((t=>t(!1))))}function O(t,e){const r=t[e];return delete t[e],r}function _(t){return"object"==typeof t&&!Object.keys(t).length}function T(t,e){if(!N(t))return T({},e);const r=Object.assign({},t);return N(e)&&Object.keys(e).forEach((n=>{N(e[n])?n in t?r[n]=T(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})})),r}function N(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t&&"function"!=typeof t}function C(t,e,r){return t||(t=e.routes[r]),"string"==typeof t&&(t={path:t}),t.path=t.path||e.routes[r],t.baseURL=t.baseURL||e.baseURL||window.location.origin,t.body=t.body||{},t.method=t.method||e.method,t.headers=t.headers||e.headers,t.redirect=t.redirect||e.redirect,t.credentials=t.credentials||e.credentials,t}var S={method:"post",redirect:"error",baseURL:void 0,findCsrfToken:!1,findXsrfToken:!1,useAutofill:void 0,routes:{attestOptions:"/auth/attest-options",attest:"/auth/attest",assertOptions:"/auth/assert-options",assert:"/auth/assert"},headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"};const x=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,I=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,P=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function L(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e;!function(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}(t)}function j(t,e={}){if("string"!=typeof t)return t;const r=t.trim();if('"'===t[0]&&'"'===t.at(-1)&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!P.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(x.test(t)||I.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,L)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const k=/#/g,D=/&/g,U=/=/g,q=/\+/g,K=/%5e/gi,$=/%60/gi,V=/%7c/gi,F=/%20/gi;function H(t){return(e="string"==typeof t?t:JSON.stringify(t),encodeURI(""+e).replace(V,"|")).replace(q,"%2B").replace(F,"+").replace(k,"%23").replace(D,"%26").replace($,"`").replace(K,"^");var e}function G(t){return H(t).replace(U,"%3D")}function M(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function B(t){return M(t.replace(q," "))}function W(t=""){const e={};"?"===t[0]&&(t=t.slice(1));for(const r of t.split("&")){const t=r.match(/([^=]+)=?(.*)/)||[];if(t.length<2)continue;const n=M(t[1].replace(q," "));if("__proto__"===n||"constructor"===n)continue;const o=B(t[2]||"");void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]}return e}const Y=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,J=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,X=/^([/\\]\s*){2,}[^/\\]/;function z(t,e={}){return"boolean"==typeof e&&(e={acceptRelative:e}),e.strict?Y.test(t):J.test(t)||!!e.acceptRelative&&X.test(t)}const Z=/\/$|\/\?|\/#/;function Q(t="",e){return e?Z.test(t):t.endsWith("/")}function tt(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Q(t,!0))return t||"/";let r=t,n="";const o=t.indexOf("#");if(o>=0&&(r=t.slice(0,o),n=t.slice(o),!r))return n;const[a,...i]=r.split("?");return a+"/"+(i.length>0?`?${i.join("?")}`:"")+n}function et(t,e){const r=nt(t),n={...W(r.search),...e};return r.search=function(t){return Object.keys(t).filter((e=>void 0!==t[e])).map((e=>{return r=e,"number"!=typeof(n=t[e])&&"boolean"!=typeof n||(n=String(n)),n?Array.isArray(n)?n.map((t=>`${G(r)}=${H(t)}`)).join("&"):`${G(r)}=${H(n)}`:G(r);var r,n})).filter(Boolean).join("&")}(n),function(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",o=t.auth?t.auth+"@":"",a=t.host||"";return(t.protocol?t.protocol+"//":"")+o+a+e+r+n}(r)}const rt=/^\.?\//;function nt(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,t,e=""]=r;return{protocol:t.toLowerCase(),pathname:e,href:t+e,auth:"",host:"",search:"",hash:""}}if(!z(t,{acceptRelative:!0}))return e?nt(e+t):ot(t);const[,n="",o,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,i="",s=""]=a.match(/([^#/?]*)(.*)?/)||[],{pathname:c,search:u,hash:l}=ot(s.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:c,search:u,hash:l}}function ot(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}class at extends Error{constructor(t,e){super(t,e),this.name="FetchError",e?.cause&&!this.cause&&(this.cause=e.cause)}}const it=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function st(t="GET"){return it.has(t.toUpperCase())}const ct=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ut=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function lt(t,e,r=globalThis.Headers){const n={...e,...t};if(e?.params&&t?.params&&(n.params={...e?.params,...t?.params}),e?.query&&t?.query&&(n.query={...e?.query,...t?.query}),e?.headers&&t?.headers){n.headers=new r(e?.headers||{});for(const[e,o]of new r(t?.headers||{}))n.headers.set(e,o)}return n}const pt=new Set([408,409,425,429,500,502,503,504]),ft=new Set([101,204,205,304]),dt=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),ht=function t(e={}){const{fetch:r=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:o=globalThis.AbortController}=e;async function a(t){const e=t.error&&"AbortError"===t.error.name&&!t.options.timeout||!1;if(!1!==t.options.retry&&!e){let e;e="number"==typeof t.options.retry?t.options.retry:st(t.options.method)?0:1;const r=t.response&&t.response.status||500;if(e>0&&(Array.isArray(t.options.retryStatusCodes)?t.options.retryStatusCodes.includes(r):pt.has(r))){const r=t.options.retryDelay||0;return r>0&&await new Promise((t=>setTimeout(t,r))),i(t.request,{...t.options,retry:e-1,timeout:t.options.timeout})}}const r=function(t){const e=t.error?.message||t.error?.toString()||"",r=t.request?.method||t.options?.method||"GET",n=t.request?.url||String(t.request)||"/",o=`[${r}] ${JSON.stringify(n)}`,a=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",i=new at(`${o}: ${a}${e?` ${e}`:""}`,t.error?{cause:t.error}:void 0);for(const e of["request","options","response"])Object.defineProperty(i,e,{get:()=>t[e]});for(const[e,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,e,{get:()=>t.response&&t.response[r]});return i}(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,i),r}const i=async function(t,i={}){const s={request:t,options:lt(i,e.defaults,n),response:void 0,error:void 0};if(s.options.method=s.options.method?.toUpperCase(),s.options.onRequest&&await s.options.onRequest(s),"string"==typeof s.request&&(s.options.baseURL&&(s.request=function(t,e){if(!(r=e)||"/"===r||z(t))return t;var r;const n=function(t=""){return(Q(t)?t.slice(0,-1):t)||"/"}(e);return t.startsWith(n)?t:function(t,...e){let r=t||"";for(const t of e.filter((t=>function(t){return t&&"/"!==t}(t))))if(r){const e=t.replace(rt,"");r=tt(r)+e}else r=t;return r}(n,t)}(s.request,s.options.baseURL)),(s.options.query||s.options.params)&&(s.request=et(s.request,{...s.options.params,...s.options.query}))),s.options.body&&st(s.options.method)&&(function(t){if(void 0===t)return!1;const e=typeof t;return"string"===e||"number"===e||"boolean"===e||null===e||"object"===e&&(!!Array.isArray(t)||!t.buffer&&(t.constructor&&"Object"===t.constructor.name||"function"==typeof t.toJSON))}(s.options.body)?(s.options.body="string"==typeof s.options.body?s.options.body:JSON.stringify(s.options.body),s.options.headers=new n(s.options.headers||{}),s.options.headers.has("content-type")||s.options.headers.set("content-type","application/json"),s.options.headers.has("accept")||s.options.headers.set("accept","application/json")):("pipeTo"in s.options.body&&"function"==typeof s.options.body.pipeTo||"function"==typeof s.options.body.pipe)&&("duplex"in s.options||(s.options.duplex="half"))),!s.options.signal&&s.options.timeout){const t=new o;setTimeout((()=>t.abort()),s.options.timeout),s.options.signal=t.signal}try{s.response=await r(s.request,s.options)}catch(t){return s.error=t,s.options.onRequestError&&await s.options.onRequestError(s),await a(s)}if(s.response.body&&!ft.has(s.response.status)&&"HEAD"!==s.options.method){const t=(s.options.parseResponse?"json":s.options.responseType)||function(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return ut.test(e)?"json":ct.has(e)||e.startsWith("text/")?"text":"blob"}(s.response.headers.get("content-type")||"");switch(t){case"json":{const t=await s.response.text(),e=s.options.parseResponse||j;s.response._data=e(t);break}case"stream":s.response._data=s.response.body;break;default:s.response._data=await s.response[t]()}}return s.options.onResponse&&await s.options.onResponse(s),!s.options.ignoreResponseError&&s.response.status>=400&&s.response.status<600?(s.options.onResponseError&&await s.options.onResponseError(s),await a(s)):s.response},s=async function(t,e){return(await i(t,e))._data};return s.raw=i,s.native=(...t)=>r(...t),s.create=(r={})=>t({...e,defaults:{...e.defaults,...r}}),s}({fetch:dt.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Headers:dt.Headers,AbortController:dt.AbortController});var yt=async(t,e={})=>{const{path:r,...n}=t;return n.headers=n.headers||{},function(t,e){!0===t&&function(t){return!Object.keys(t).find((e=>["x-csrf-token","x-xsrf-token"].includes(e.toLowerCase())&&!!t[e]))}(e)&&(t=Array.from(document.head.getElementsByTagName("meta")).find((t=>"csrf-token"===t.name.toLowerCase()&&!!t.content))?.content??Array.from(document.body.getElementsByTagName("input")).find((t=>"_token"===t.name.toLowerCase()&&"hidden"===t.type.toLowerCase()&&!!t.value))?.value??function(){const t=document.cookie.match(new RegExp("(^|;\\s*)([CX]SRF-TOKEN)=([^;]*)","i"));return t?decodeURIComponent(t[3]):void 0}()??""),"string"==typeof t&&(e[function(t){if(t.length<40){const t=new Error("The token must be an CSRF (40 characters) or XSRF token.");throw t.name="InvalidToken",t}return 40===t.length}(t)?"X-CSRF-TOKEN":"X-XSRF-TOKEN"]=t)}(function(t){return O(t,"findCsrfToken")||O(t,"findXsrfToken")}(t),n.headers),n.body=T(n.body??{},e),await ht(r,n)},mt=()=>{const t=new Date;return{start:t,stop:()=>{const e=(new Date).getTime()-t.getTime(),r=Math.floor(e/6e4),n=Number((e%6e4/1e3).toFixed(0));return(r?r+" minutes, ":"")+(n?n+" seconds.":"")}}};function wt(t,e,r=void 0){const n=new Error(e);return n.name=t,n.cause=r,n}function gt(t={}){const e=T(structuredClone(S),t);async function r(t,r){const n=mt(),o=C(t,e,"attestOptions"),a=C(r,e,"attest"),i=await yt(o);if(console.debug("Attestation Options Received",i),!i||_(i))throw wt("InvalidAttestationResponse","The server responded with invalid or empty credential creation options.");let s;try{s=await w(i)}catch(t){throw wt("AttestationCancelled","The credentials creation was not completed.",t)}console.debug("Attestation Credentials Created",s);const c=await yt(a,s);return console.debug("Attestation benchmark",n.stop()),c}async function n(t,r){const n=mt(),o=C(t,e,"assertOptions"),a=C(r,e,"assert"),i=await yt(o);if(console.debug("Assertion Options Received",i),!i||_(i))throw wt("InvalidAssertionResponse","The server responded with invalid or empty credential request options.");let s;try{s=await v(i,o.useAutofill??a.useAutofill??e.useAutofill)}catch(t){throw wt("AssertionCancelled","The credentials request was not completed.",t)}console.debug("Assertion Credentials Retrieved",s);const c=await yt(a,s);return console.debug("Assertion benchmark",n.stop()),c}return{assert:async function(t,e){const r={data:void 0,user:void 0,token:void 0,success:!1,error:void 0};try{r.data=await n(t,e)}catch(t){return{...r,error:t}}finally{r.success=void 0===r.error}return"object"==typeof r.data?(r.user="object"==typeof r.data.user?r.data.user:r.data,r.token=r.data?.token||r.data?.jwt,r.token||"object"!=typeof r.user||(r.token=r.user?.token||r.user?.jwt)):"string"==typeof r.data&&(r.token=r.data),r},attest:async function(t,e){const n={data:void 0,credentials:void 0,id:void 0,success:!1,error:void 0};try{n.data=n.credentials=await r(t,e)}catch(t){return{...n,error:t}}finally{n.success=void 0===n.error}return"object"==typeof n.data&&(n.id=n.data?.id||n.data?.uuid),n},assertRaw:n,attestRaw:r}}var bt={create:gt,attest:async(t,e)=>await gt().attest(t,e),assert:async(t,e)=>await gt().assert(t,e),attestRaw:async(t,e)=>await gt().attestRaw(t,e),assertRaw:async(t,e)=>await gt().assertRaw(t,e),isSupported:E,isNotSupported:function(){return!E()},isUnsupported:function(){return!E()},isAutofillable:R,isNotAutofillable:async function(){return!await R()},isPlatformAuthenticator:A,isNotPlatformAuthenticator:async function(){return!await A()}};function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function Et(){Et=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),s=new x(n||[]);return o(i,"_invoke",{value:T(t,r,s)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",y="completed",m={};function w(){}function g(){}function b(){}var v={};u(v,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(I([])));R&&R!==r&&n.call(R,i)&&(v=R);var A=b.prototype=w.prototype=Object.create(v);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,s){var c=p(t[o],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=N(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(vt(e)+" is not iterable")}return g.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},O(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(A),u(A,c,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Rt(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var At=bt.create({routes:{attestOptions:"webauthn/register/options",attest:"webauthn/register"},headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}});const Ot={props:["resourceName","resourceId","panel"],methods:{isCurrentUser:function(){return~~this.resourceId==~~this.$store.state.currentUser.id},register:function(t){return function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Rt(a,n,o,i,s,"next",t)}function s(t){Rt(a,n,o,i,s,"throw",t)}i(void 0)}))}}(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!bt.isUnsupported()){e.next=4;break}return alert("Your browser does not support WebAuthn."),e.abrupt("return");case 4:return e.next=6,At.attest().then((function(t){t.success?Nova.success("Registration successful"):Nova.error("Something went wrong")})).catch((function(t){Nova.error(t.message)}));case 6:case"end":return e.stop()}}),e)})))()}}};const _t=(0,r(262).A)(Ot,[["render",function(t,e,r,c,u,l){var p=(0,n.resolveComponent)("heading"),f=(0,n.resolveComponent)("Card"),d=(0,n.resolveComponent)("LoadingView");return l.isCurrentUser()?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,loading:!1},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(p,{class:"mb-6"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(t.__("Passkey Authentication")),1)]})),_:1}),(0,n.createVNode)(f,null,{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("p",a,(0,n.toDisplayString)(t.__("Authenticate with fingerprints, patterns and biometric data.")),1),(0,n.createElementVNode)("form",i,[(0,n.createElementVNode)("button",{type:"submit",onClick:e[0]||(e[0]=function(){return l.register&&l.register.apply(l,arguments)}),class:"border text-left appearance-none cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 relative disabled:cursor-not-allowed inline-flex items-center justify-center shadow h-9 px-3 bg-primary-500 border-primary-500 hover:[&:not(:disabled)]:bg-primary-400 hover:[&:not(:disabled)]:border-primary-400 text-white dark:text-gray-900 w-48 flex justify-center"},[(0,n.createElementVNode)("span",s,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(t.__("Register Passkey")),1)])])])])]})),_:1})]})),_:1})):(0,n.createCommentVNode)("",!0)}]]);Nova.booting((function(t,e){t.component("nova-webauthn",_t)}))},351:()=>{},262:(t,e)=>{e.A=(t,e)=>{const r=t.__vccOpts||t;for(const[t,n]of e)r[t]=n;return r}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,o,a)=>{if(!r){var i=1/0;for(l=0;l<t.length;l++){for(var[r,o,a]=t[l],s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={416:0,757:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[i,s,c]=r,u=0;if(i.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(e&&e(r);u<i.length;u++)a=i[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self.webpackChunkcodebarista_nova_webauthn=self.webpackChunkcodebarista_nova_webauthn||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.O(void 0,[757],(()=>n(253)));var o=n.O(void 0,[757],(()=>n(351)));o=n.O(o)})();